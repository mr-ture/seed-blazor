@page "/settings"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]

<PageTitle>Settings</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large">
    <MudText Typo="Typo.h4" Class="mb-4">Settings</MudText>

    <MudGrid>
        <MudItem xs="12" md="6">
            <MudPaper Elevation="3" Class="pa-4">
                <MudText Typo="Typo.h6" Class="mb-4">Account Settings</MudText>
                
                <MudStack Spacing="3">
                    <MudSwitch Color="Color.Primary" Label="Email Notifications" @bind-Value="_emailNotifications" />
                    <MudSwitch Color="Color.Primary" Label="Push Notifications" @bind-Value="_pushNotifications" />
                    <MudSwitch Color="Color.Primary" Label="Dark Mode" @bind-Value="_darkMode" />
                </MudStack>
                
                <MudDivider Class="my-4" />
                
                <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="SaveSettings">
                    Save Settings
                </MudButton>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="6">
            <MudPaper Elevation="3" Class="pa-4">
                <MudText Typo="Typo.h6" Class="mb-4">Security</MudText>
                
                <MudList T="string" Dense="true">
                    <MudListItem T="string" Icon="@Icons.Material.Filled.Security">
                        <MudText Typo="Typo.body2">Two-Factor Authentication</MudText>
                        <MudText Typo="Typo.caption" Color="Color.Secondary">Managed by OKTA</MudText>
                    </MudListItem>
                    <MudListItem T="string" Icon="@Icons.Material.Filled.VpnKey">
                        <MudText Typo="Typo.body2">Password</MudText>
                        <MudText Typo="Typo.caption" Color="Color.Secondary">Change in OKTA portal</MudText>
                    </MudListItem>
                    <MudListItem T="string" Icon="@Icons.Material.Filled.Devices">
                        <MudText Typo="Typo.body2">Active Sessions</MudText>
                        <MudText Typo="Typo.caption" Color="Color.Success">1 device</MudText>
                    </MudListItem>
                </MudList>
                
                <MudDivider Class="my-4" />
                
                <MudButton Variant="Variant.Outlined" Color="Color.Error" Href="/logout">
                    Sign Out All Devices
                </MudButton>
            </MudPaper>
        </MudItem>

        <MudItem xs="12">
            <MudPaper Elevation="3" Class="pa-4">
                <MudText Typo="Typo.h6" Class="mb-4" Color="Color.Error">Danger Zone</MudText>
                
                <MudAlert Severity="Severity.Warning" Class="mb-4">
                    These actions are irreversible. Please be certain.
                </MudAlert>
                
                <MudStack Spacing="2">
                    <MudButton Variant="Variant.Outlined" Color="Color.Error" Disabled="true">
                        Delete Account
                    </MudButton>
                    <MudText Typo="Typo.caption" Color="Color.Secondary">
                        Contact administrator to delete your account
                    </MudText>
                </MudStack>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private bool _emailNotifications = true;
    private bool _pushNotifications = false;
    private bool _darkMode = false;

    private void SaveSettings()
    {
        // Implementation for saving settings would go here
        // For now, this is just a placeholder
    }
}
