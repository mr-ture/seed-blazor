@page "/"
@using Microsoft.AspNetCore.Components.Authorization

<PageTitle>Home</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large">
    <MudGrid>
        <MudItem xs="12">
            <MudPaper Elevation="0" Class="pa-8 text-center">
                <MudText Typo="Typo.h3" Class="mb-4">Welcome to MIF</MudText>
                <MudText Typo="Typo.h6" Color="Color.Secondary" Class="mb-4">
                    Modular Infrastructure Framework
                </MudText>
                
                <AuthorizeView>
                    <Authorized>
                        <MudAlert Severity="Severity.Success" Class="mt-4 mb-4">
                            You are signed in as <strong>@context.User.Identity?.Name</strong>
                        </MudAlert>
                        <MudStack Row="true" Justify="Justify.Center" Spacing="2">
                            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/todos" StartIcon="@Icons.Material.Filled.CheckBox">
                                Go to Todos
                            </MudButton>
                            <MudButton Variant="Variant.Outlined" Color="Color.Primary" Href="/profile" StartIcon="@Icons.Material.Filled.Person">
                                View Profile
                            </MudButton>
                        </MudStack>
                    </Authorized>
                    <NotAuthorized>
                        <MudAlert Severity="Severity.Info" Class="mt-4 mb-4">
                            Please sign in to access all features
                        </MudAlert>
                        <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/login" StartIcon="@Icons.Material.Filled.Login">
                            Sign In with OKTA
                        </MudButton>
                    </NotAuthorized>
                </AuthorizeView>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="4">
            <MudPaper Elevation="3" Class="pa-4">
                <MudStack Spacing="2" AlignItems="AlignItems.Center">
                    <MudIcon Icon="@Icons.Material.Filled.Security" Size="Size.Large" Color="Color.Primary" />
                    <MudText Typo="Typo.h6">Secure Authentication</MudText>
                    <MudText Typo="Typo.body2" Align="Align.Center" Color="Color.Secondary">
                        Protected by OKTA with OpenID Connect
                    </MudText>
                </MudStack>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="4">
            <MudPaper Elevation="3" Class="pa-4">
                <MudStack Spacing="2" AlignItems="AlignItems.Center">
                    <MudIcon Icon="@Icons.Material.Filled.Architecture" Size="Size.Large" Color="Color.Primary" />
                    <MudText Typo="Typo.h6">Vertical Slice Architecture</MudText>
                    <MudText Typo="Typo.body2" Align="Align.Center" Color="Color.Secondary">
                        Modular features with CQRS pattern
                    </MudText>
                </MudStack>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="4">
            <MudPaper Elevation="3" Class="pa-4">
                <MudStack Spacing="2" AlignItems="AlignItems.Center">
                    <MudIcon Icon="@Icons.Material.Filled.Speed" Size="Size.Large" Color="Color.Primary" />
                    <MudText Typo="Typo.h6">Built on .NET 10</MudText>
                    <MudText Typo="Typo.body2" Align="Align.Center" Color="Color.Secondary">
                        Blazor Server with MudBlazor UI
                    </MudText>
                </MudStack>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>
